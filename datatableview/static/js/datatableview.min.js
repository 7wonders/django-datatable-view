$(function(){var e={sortable:"bSortable",sorting:"aaSorting",visible:"bVisible"};var t=$('<a href="#" class="clear-search">Clear</a>');$(".datatable").each(function(){var n=$(this);var r=[];var i=[];n.find("th").each(function(){var t=$(this);var n={};for(var s=0;s<t[0].attributes.length;s++){var o=t[0].attributes[s];if(o.specified&&/^data-/.test(o.name)){var u=o.name.replace(/^data-/,"");var a=o.value;u=e[u];if(/^b/.test(u)){a=a==="true"}if(u=="aaSorting"){var f=a.split(",");f[1]=parseInt(f[1]);i.push(f);continue}n[u]=a}}r.push(n)});i.sort(function(e,t){return e[0]-t[0]});for(var s=0;s<i.length;s++){i[s]=i[s].slice(1)}options={bServerSide:true,bStateSave:true,aaSorting:i,aoColumns:r,sAjaxSource:n.attr("data-source-url"),fnInfoCallback:function(e,t,r,i,s,o){$("#"+n.attr("data-result-counter-id")).html(s);var u="Showing "+t+" to "+r+" of "+s+" entries";if(i!=s){u+=" (filtered from "+i+" total entries)"}return u}};try{options=confirm_datatable_options(options,n)}catch(o){}var u=n.dataTable(options);try{u.fnSetFilteringDelay()}catch(o){console.info("datatable plugin fnSetFilteringDelay not available")}var a=u.closest(".dataTables_wrapper").find(".dataTables_filter input");var f=t.clone().click(function(){a.val("").keyup();return false});a.after(f).after(" ")})})